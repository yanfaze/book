# 大模型 - 第一章

这是大模型学习指南的第一章内容。

各位同学好，我是信息技术学院的周老师。接下来由我带大家一起学习Linux系统的磁盘管理项目。作为Linux系统的网络管理员，我们应该掌握配置管理磁盘的技巧。本次微课将向大家讲解Linux系统中常用磁盘管理工具的使用。具体包含磁盘分区工具fdisk、建立文件系统命令mkfs、检查修复文件系统命令fsck，还有文件系统的挂载和卸载。fdisk磁盘分区工具在DOS、Windows和Linux中都有相应的应用程序。在Linux系统中，fdisk是基于菜单的命令。对硬盘进行分区时，可以在fdisk命令后面直接加上要分区的硬盘作为参数，例如对新增加的第二块硬盘进行分区的操作，如下所示，我们在井字号后面输入fdisk空格斜杠dev斜杠sdb，在command提示后面输入相应的命令来选择需要的操作。例如输入m命令是列出所有可用命令。以下是常用的fdisk命令选项：a调整硬盘启动分区，d删除磁盘分区，l列出所有支持的分区类型，m列出所有的命令，n创建新的分区，p列出硬盘分区表，q不保存更改退出fdisk命令，t更改分区类型，u切换所显示的分区大小的单位，w把修改写入硬盘分区表，然后退出，x列出高级选项。下面已在斜杠dev斜杠sdb硬盘上创建大小为500兆，文件系统为ext3的sdb1的主分区为例，讲解fdisk命令的用法。接下来我们做一段演示，我们利用fdisk命令打开fdisk操作菜单。输入p查看当前分区表，从命令执行结果可以看到，sdb硬盘并没有任何分区。最下面这一行显示我们的设备分区名、是否为启动分区、起始的柱面、终止的柱面、分区的总块数以及分区的ID号和文件系统类型。我们输入n创建一个新的分区，输入p创建主分区，输入1创建第一个主分区。起始扇区回车，结束扇区加500兆。我们输入l可以查看已知的分区类型及其ID，列出Linux的ID是83。我们输入t指定sdb1的文件系统类型为Linux。分区结束以后输入w保存退出，用同样的方法建立磁盘分区sdb2和sdb3。如果要删除磁盘分区，在fdisk菜单下输入d并选择相应的磁盘分区即可，删除以后输入w保存退出。硬盘分区后，下一步的工作就是建立文件系统。建立文件系统的命令是mkfs，格式如下：mkfs空格跟上参数空格跟上文件系统。mkfs命令常用的参数选项如下：-t表示指定要创建的文件系统类型，-c表示建立文件系统前首先检查坏块，-l后面跟上文件名，表示从文件中读磁盘坏块的列表，-v表示输出建立文件系统详细信息。接下来我们做一段演示，在sdb1上建立ext3类型的文件系统，建立时检查磁盘坏块并显示详细信息，我们可以用mkfs来完成，在井字号后面输入mkfs空格-t空格ext3空格-v空格-c空格斜杠dev斜杠sdb1，完成存储设备的分区和格式化操作。另外我们还需要做挂载才能够使用。挂载的方法：我们首先要创建一个挂载点，然后用mount命令挂载，最后我们用df查看。fsck命令主要用于检查文件系统的正确性并对Linux磁盘进行修复。fsck命令的格式如下：fsck空格跟上参数选项跟上文件系统。fsck命令常用的参数选项如下：-t表示在给定文件系统类型，如果在fstab中已经有定义或者本身已经支持的，不需要添加此项，-s表示一个一个的执行fsck命令进行检查，-A表示对fstab中所有列出的分区进行检查，-C表示显示完整的检查进度，-d表示列出fsck的调试结果，-P表示在同时有-A选项时，多个fsck的检查一起执行，-a表示如果检查中发现错误则自动修复，-r表示如果检查有错误，询问是否修复。接下来我们做一段演示，检查分区sdb1上是否有错误，如果有错误自动修复。注意我们必须把磁盘卸载以后才能检查分区，卸载的命令是umount。检查分区用fsck带一个参数-a。检查完成在磁盘上建立好文件系统之后，还需要把新建立的文件系统挂载到系统上才能使用，这个过程称为挂载文件系统，所挂载到的目录被称为挂载点。Linux系统中提供了/mnt和/media两个专门的挂载点，可以在系统引导过程中自动挂载，也可以手动挂载。手动挂载文件系统的命令是mount，该命令的语法格式如下：mount空格跟上选项空格跟上设备空格跟上挂载点。mount命令的主要选项如下：-t表示指定要挂载的文件系统的类型，-r如果不想修改要挂载的文件系统，我们可以使用该选项以只读方式挂载，-w以可写的方式挂载文件系统，-a挂载fstab文件中记录的设备。接下来我们做一段演示，把文件系统类型为ext3的磁盘分区sdb1挂载到newfs这个目录下，我们可以使用命令mount空格-t空格ext3空格斜杠dev斜杠sdb1空格newfs。挂载光盘我们可以使用下列的命令，先创建一个挂载点，然后用mount空格-t空格iso9660空格跟上我们的设备。文件系统可以被挂载，也可以被卸载。卸载文件系统的命令是umount，命令的格式为umount空格设备空格挂载点。例如卸载光盘和软盘，我们可以使用命令在井字号后面输入umount空格，然后跟上你的/media/cdrom，表示我们的光盘，注意光盘在没有卸载之前无法从驱动器中弹出，正在使用的文件系统是不能卸载的。通过本次课的学习，希望大家熟练掌握磁盘分区工具fdisk、建立文件系统命令mkfs、检查修复文件系统命令fsck，还有文件系统的挂载和卸载命令mount和umount的使用方法。今天的课程就讲到这里，我们下次再见。